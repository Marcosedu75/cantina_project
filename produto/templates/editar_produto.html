{% extends "base.html" %}
{% load static %}

{% block body_class %}
    editar-produto-body
{% endblock %}

{% block title %}
    Editar Produto
{% endblock %}

{% block header %}
    
{% endblock %}

{% block content %}
<div class="editar-produto-container">
    <header class="editar-produto-header">
        <h1 class="editar-produto-title">Editar Produto</h1>
    </header>
    
    <form class="editar-produto-form" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" id="nome" name="nome" value="{{ produto.nome }}" required>
        </div>
        <div class="form-group">
            <label for="preco">Preço</label>
            <input type="text" id="preco" name="preco" value="{{ produto.preco }}" required>
        </div>
        <div class="form-group">
            <label for="categoria">Categoria</label>
            <input type="text" id="categoria" name="categoria" value="{{ produto.categoria.nome|default_if_none:'' }}">
        </div>
        <div class="form-group">
            <label for="estoque">Estoque</label>
            <input type="number" id="estoque" name="estoque" value="{{ produto.estoque }}" required>
        </div>

        <!-- Seção da Foto -->
        <div class="form-group">
            <label for="foto">Alterar Foto</label>
            <input type="file" id="foto" name="foto" accept="image/*">
        </div>

        {% if produto.foto %}
        <div class="form-group current-photo">
            <label>Foto Atual</label>
            <img src="{{ produto.foto.url }}" alt="Foto de {{ produto.nome }}" width="100">
            <div class="remove-photo-checkbox">
                <input type="checkbox" id="remover_foto" name="remover_foto" value="1">
                <label for="remover_foto">Remover foto atual</label>
            </div>
        </div>
        {% endif %}
        <!-- Fim da Seção da Foto -->

        <div class="form-buttons">
            <button type="submit" class="category-btn">Salvar</button>
            <a href="{% url 'dashboard_cantineiro' %}" class="category-btn">Voltar</a>
        </div>
    </form>
</div>
{% endblock %}