{% extends "base.html" %}
{% load static %}

{% block body_class %}
    criar-pedido-body
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}

{% block title %}
    Card√°pio
{% endblock %}

{% block header %}
    
{% endblock %}

{% block content %}
<div class="pedido-container">
    <header class="pedido-header">
        <h1 class="pedido-title">Fazer Pedido</h1>
        <a href="{% url 'ver_carrinho' %}" class="cart-btn" title="Ver carrinho">
            <i class="fas fa-shopping-cart"></i>
        </a>
    </header>

    <nav class="category-menu">
        <button class="category-btn">Salgados</button>
        <button class="category-btn">Bebidas</button>
        <button class="category-btn">Doces</button>
        <a href="{% url 'logout' %}" class="category-btn" title="Ir para o painel">voltar</a>
    </nav>

    <main class="product-grid">
        {% for item in itens_cardapio %}
        <div class="product-card">
            <div class="product-image">
                <img class="product-images" src="{{ item.produto.imagem.url }}" alt="{{ item.produto.nome }}">
            </div>
            <div class="product-info">
                <span class="product-name">{{ item.produto.nome }}</span>
                <span class="product-price">R$ {{ item.produto.preco|floatformat:2 }}</span>
            </div>
            <div class="product-controls">
                
                <form method="POST" action="{% url 'remover_do_carrinho' item.produto.id %}">
                    {% csrf_token %}
                    <button class="control-btn" type="submit">-</button>
                </form>
                <span class="quantity">{{ item.quantidade }}</span>
                <form method="POST" action="{% url 'adicionar_ao_carrinho' item.produto.id %}">
                    {% csrf_token %}
                    <button class="control-btn" type="submit">+</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </main>

    
{% endblock %}

{% block footer %}
{% endblock %}